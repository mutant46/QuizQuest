{% extends 'base.html' %}
{% load static %}
{% block content %}



<div class="container-fluid px-4 px-lg-5 py-4">
    <div class="row my-4">
        <div class="col-6 d-flex align-items-center">
            {% if not quiz.user.image %}
            <img src="{% static 'images/avatar.png' %}" alt="" width="60px">
            {% else %}
            <img src="{{ quiz.user.image.url }}" alt="" width="40px">
            {% endif %}
            <span class="ms-3 fw-bold fs-3">{{ quiz.user.username | title }}</span>
        </div>
        <div class="quiz-detail col-6 d-flex align-items-center justify-content-end">
            {% if quiz.user == request.user %}
                <a href="{% url 'quiz:edit_quiz' quiz.pk quiz.slug %}" title="edit quiz" class="bg-warning p-3 rounded-circle me-3">
                    <i class="fa-solid text-white fa-marker fs-6"></i>
                </a>
                {% if quiz.status == "private" %}
                    <span id="quiz_url" data-value="http://{{request.META.HTTP_HOST}}{% url 'quiz:quiz_detail' quiz.pk quiz.slug %}?pwd={{quiz.password}}" title="copy quiz url" class="bg-warning p-3 rounded-circle">
                        <i class="fa-solid fa-copy text-white fs-6"></i>
                    <span>
                {% elif quiz.status == "public" %}
                <span id="quiz_url" data-value="http://{{ request.META.HTTP_HOST }}{% url 'quiz:quiz_detail' quiz.pk quiz.slug %}" title="copy quiz url" class="bg-warning p-3 rounded-circle">
                    <i class="fa-solid fa-copy text-white fs-6"></i>
                <span>
                {% endif %}
            {% else %}
            <a href="{% url 'quiz:clone-quiz' quiz.pk quiz.slug %}" title="Clone Quiz" class="bg-warning p-3 rounded-circle me-3">
                <i class="fa-solid fa-closed-captioning text-white"></i>
            </a>
            {% endif %}
        </div>
    </div>
    <div class="row gap-2 gap-md-0">
        <div class="col-md-6">
            <img src="{{ quiz.image.url }}" alt="" width="100%" height="100%">
        </div>
        <div class="col-sm-12 col-md-6 py-4 d-flex flex-column justify-content-center">
            <h2 class="py-2">{{ quiz.name }}</h2>
            <p class="fw-bold">{{ quiz.desc }}</p>
            <div class="quiz-contents d-flex flex-wrap text-white">
                <span class="px-4 py-2  m-2 rounded-pill">{{ quiz.papularity }} Submissions</span>
                <span class="px-5 py-2  m-2 rounded-pill">{{ quiz.percentage | floatformat}}% required</span>
                <span class="px-4 py-2  m-2 rounded-pill">{{ quiz.time }} Min</span>
                <span class="px-4 py-2  m-2 rounded-pill">{{ quiz.difficulity | title }}</span>
                <span class="px-5 py-2  m-2 rounded-pill">{{ quiz.ratings}} ratings</span>
            </div>
        </div>
        <div class="col-12 mt-5 mb-4">
            {% if not quiz.user == request.user %}
                <a href="{% url 'quiz:test-quiz-page' quiz.pk quiz.slug %}" class="btn btn-lg py-3 bg-success d-block text-white">Take Test</a>
            {% endif %}  
        </div>
    </div>

</div>

{% endblock content %}



